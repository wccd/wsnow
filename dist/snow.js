!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.snow=i():t.snow=i()}(self,(function(){return(()=>{"use strict";var t={d:(i,s)=>{for(var e in s)t.o(s,e)&&!t.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:s[e]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}t.r(i),t.d(i,{default:()=>a});var n=function(){function t(i){s(this,t),this.w=0,this.g=0,this.f=0,this.pageW=0,this.pageH=0,this.color="#ffffff",this.opacity=0,this.mixColor="",this.size=10,this.x=0,this.y=0,this.xv=0,this.yv=0,this.xPosition=0,this.yPosition=0,this.ctx=i.ctx,this.g=i.gravity,this.f=i.airResistance/2*Math.PI*Math.pow(i.size,2)*Math.random(),this.w=i.wind,this.color=i.color||"#ffffff",this.opacity=i.opacity||.95,this.size=i.size||10,this.x=i.pageWidth*Math.floor(100*Math.random())/100,this.y=i.pageHeight/2*Math.floor(100*(Math.random()-1))/100,this.xPosition=this.x,this.yPosition=this.y,this.pageW=i.pageWidth,this.pageH=i.pageHeight,this.getMixColor(),this.randomPosition()}return o(t,[{key:"getMixColor",value:function(){this.mixColor=this.color+Number(255*this.opacity).toString(16).slice(0,2)}},{key:"draw",value:function(t){return t.beginPath(),t.strokeStyle="transparent",t.shadowBlur=5,t.shadowColor=this.mixColor,t.fillStyle=this.mixColor,t.arc(this.xPosition,this.yPosition,this.size,0,2*Math.PI),t.closePath(),t.stroke(),t.fill(),this}},{key:"getHorizontalV",value:function(){var t=this.w-this.f*Math.pow(this.xv,2);t<0&&(t=0),this.xv+=t}},{key:"getVerticalV",value:function(){var t=this.g-this.f*Math.pow(this.yv,2);t<0&&(t=0),this.yv+=t}},{key:"checkOverScreen",value:function(){this.yPosition>this.pageH&&(this.yPosition=this.y,this.yv=0,this.xPosition=this.x,this.xv=0),this.xPosition>this.pageW&&(this.xPosition-=this.pageW)}},{key:"randomPosition",value:function(){for(var t=Math.round(1e3*Math.random()),i=0;i<t;i++)this.getHorizontalV(),this.getVerticalV(),this.xPosition+=this.xv,this.yPosition+=this.yv,this.checkOverScreen();this.draw(this.ctx)}},{key:"update",value:function(){this.getHorizontalV(),this.getVerticalV(),this.xPosition+=this.xv,this.yPosition+=this.yv,this.checkOverScreen(),this.draw(this.ctx)}}]),t}();const a=function(){function t(i){if(s(this,t),this.animationKey=0,this.canvasWidth=0,this.canvasHeight=0,this.wind=10,this.gravity=10,this.airResistance=.02,this.sizeRange=[2,5],this.snowNum=100,this.snowList=[],this.snowColor="#ffffff",this.randomColor=!1,this.el=i.el,!this.el)throw console.error("need a htmlnode");this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvasWidth=i.width||800,this.canvasHeight=i.height||480,this.gravity=i.gravity/1e3,this.wind=i.wind/2e3,this.airResistance=i.airResistance/1e4,this.snowNum=i.snowNum,this.snowColor=i.snowColor||"#ffffff",this.randomColor=i.randomColor||!1,this.initCanvas(),this.initSnow()}return o(t,[{key:"initCanvas",value:function(){!this.canvas&&(this.canvas=document.createElement("canvas")),!this.ctx&&(this.ctx=this.canvas.getContext("2d")),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.setAttribute("style","pointer-events: none;position: absolute;left: 0;top: 0"),this.el.appendChild(this.canvas)}},{key:"randomHexColor",value:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)}},{key:"initSnow",value:function(){for(var t=0;t<this.snowNum;t++){var i=Math.round(10*Math.random())/10*(this.sizeRange[1]-this.sizeRange[0])+this.sizeRange[0],s=Math.floor(100*Math.random())/100,e=new n({ctx:this.ctx,gravity:this.gravity,airResistance:this.airResistance,wind:this.wind,color:this.randomColor?this.randomHexColor():this.snowColor,opacity:s,size:i,pageWidth:this.canvasWidth,pageHeight:this.canvasHeight});this.snowList.push(e)}}},{key:"updateSnow",value:function(){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.snowList.forEach((function(t){t.update()})),this.animationKey=requestAnimationFrame(this.updateSnow.bind(this))}},{key:"start",value:function(){this.animationKey=requestAnimationFrame(this.updateSnow.bind(this))}},{key:"stop",value:function(){cancelAnimationFrame(this.animationKey)}},{key:"destory",value:function(){this.stop(),this.snowList=[],this.el&&this.el.removeChild(this.canvas)}},{key:"restart",value:function(){this.initCanvas(),this.initSnow(),this.start()}}]),t}();return i})()}));
//# sourceMappingURL=snow.js.map